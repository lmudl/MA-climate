# Log for MA
04.01.20
To do:
Get coordinates for boxes of general window of interest, STAO, NTAO and Amazon basin

Done:
General window of interest: 180 W - 3 W, 40 N - 40 S (degrees, lon lat)
	STAO/ NTAO?
	amazon basin: 10 S - 0, 70 W - 55 W
Wrote expose short for bjÃ¶rn
computed narrowed graphic for window of interest
Amazon basin first data has no values

05.01.20

precip data is complete already, but sst is separated in single files per month
download data from webpage with a function?


Done:
Get whole sst data, did it with down them all, but actually the read me contained 
	code on how to donwload alle the files

see basic-correlation.R
check if values are apparent in latest file
Write preprocessing file for sst
	-> get filenames via list.files() DONE
	-> create list with filenames DONE
	-> loop through filenames DONE
	-> create path with filename in list DONE
	-> load data DONE
	-> add each sst file data as new dimension DONE
	? -> constrain to the window we need? Here or later? -> write function ?
		if we constrain then also to_be_filled needs to get other dimensions
	-> save data TODO


Check what time frames the data is in
	-> do EDA
Compute 1 correlation
Compute time series of correlations 
Compute mean 
Check values for different time lags


14.01.21
start 09:30. plan to do 6 pomodoros so circa 3 hours

on cdo:
start cygwin 64, shell opens, cd bin, then cdo commans run
questions? how to access data outside of working directory ?

Done:
Reread some of old notes
Installed cygwin
Installed cdo
Write preprocessing file for sst
	-> constrain window we need? Here or later?
		if we constrain, then also to_be_filled needs to get other dimensions DONE solved by cdo
	-> save processed data in a new file DONE solved by cdo
	-> used mergetime *.nc


15.01.21
start 09:00 plan to do work 4 hours.

DONE:
installed cdo for R
	updated R
	updated R studio
	updated Rtools
used setreftime on test file
	-> months since 1900 (can be changes easily)


20.01.21
start 11:00 plan to work 2 hours



Notes:
so what are we doin in the first steps with the raw data?
1. use mergetime to combine the sst data DONE
2. setreftime for both files DONE maybe we dont even need this!
3. constrain time with selyear (aka selyear) should be enough
4. constrain lot/lan

DONE:
use mergetime
use setreftime
use selyear, BUT we can not save to the same file we get input from
	-> concatenate operators?
	-> save to other file
	-> maybe rename and delete old one

21.01.21

DONE:
use selyear aka select years for time filtering
use rearrange_latlon to redefine scales of lat lon
preprocess:
	create raw/sst/monthly and after mergetime raw/sst/sst-merged DONE
	inspect why mergetime "breaks" sst data DONE
	select lat lon window DONE
EDA:
	create anomalie values for each grid point DONE
	for each year and each grid point compute mean value sst DONE
	for each year and each grid point compute g_i - mean_year, f.e g_0_0 (lon,lat) - mean_1909 DONE


TODO:
work further on EDA
	mean ssts (maybe NTAO/STAO):
		for each month 
			compute for each year mean temperature in ongoing fashion
			(add jan 1901 jan 1902 ... jan 1910)/len(year, here = 10) -> mean 1910
			do that for all years
			plot each month individually
	how to plot anomalies? see S3, monthly anomlies, maybe plot it for a couple of random points or NTAO/STAO

	FIRST THING PLOTTTT!!!
	search EDA for geospatial data
ASK niklas:
	supplementary material, and paper "we compute monthly amomalies with respect to the long-term
		mean annual cycle"
		https://cfn-live-content-bucket-iop-org.s3.amazonaws.com/journals/1748-9326/15/9/094087/2/ERL_15_9_094087_suppdata.pdf?AWSAccessKeyId=AKIAYDKQL6LTV7YY2HIK&Expires=1611855089&Signature=eYawahUfQLQSPDIB1PKHUeVfWSI%3D
write expose
get supervisor
