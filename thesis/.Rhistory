\fancyhead[R]{\changefont{\mytitle}}
\fancyfoot{}
\fancyfoot[R]{\thepage}
\setlength{\headheight}{14.5pt}
\setlength{\parindent}{0pt}
\interfootnotelinepenalty = 10000
% ------------------------------------------------------------------------------
% MAIN -------------------------------------------------------------------------
% ------------------------------------------------------------------------------
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\begin{document}
% FRONT PAGE -------------------------------------------------------------------
\begin{titlepage}
\begin{center}
\LARGE
Masters Thesis
\vspace{0.5cm}
\rule{\textwidth}{1.5pt}
\LARGE
\textbf{\mytitle}
\rule{\textwidth}{1.5pt}
\vspace{0.5cm}
\large
Department of Statistics \\
Ludwig-Maximilians-Universität München
\vfill
\Large
\textbf{\myname}
\vfill
\large
Munich, Month Day\textsuperscript{th}, Year
\vfill
\includegraphics[width = 0.4\textwidth]{sigillum.png}
\vfill
\normalsize
Submitted in partial fulfillment of the requirements for the degree of M. Sc.
\\
Supervised by \mysupervisor
\end{center}
\end{titlepage}
\end{document}
rm(list=ls())
getwd()
# inspect error plots
# inspect coef plots
# inspect prediction plots
# length(ids$train$Training060)
# length(ids$test$Testing060)
path_to_model_folder <- "../results/CV-fused/noclust-large-fused-5k/"
pred_plot_full <- readRDS(paste0(path_to_model_folder, "pred-plots/pred-plot-full.rds"))
attr(pred_plot_full, "mse")
pred_plot_full
path_to_model_folder <- "../results/CV-fused/noclust-large-fused-5k/"
source("../code/R/helper-functions.R")
pc5 <- readRDS(paste0(path_to_model_folder, "/coef-plots/coef-plot-drop-out-fold-5.rds"))
pc5 <- readRDS(paste0(path_to_model_folder, "/coef-plots/coef-plot-fold-5.rds"))
pc5 <- readRDS(paste0(path_to_model_folder, "/coef-plots/coef-plot-fold-5.rds"))
pc5
?fusedlasso
diag(3,4)
library(igraph)
library(genlasso)
b <- make_lattice(c(3,3))
getDgSparse(b)
bs <- getDgSparse(b)
bs
bs%*%t(bs)
t(bs)%*%bs
bs <- getDgSparse(b)
t(bs)%*%bs
plot(b)
?glmnet
library(glmnet)
?glmnet
?diff
c(1:10)
c(1,2,3,4,5,7,9,11)
a <- c(1,2,3,4,5,7,9,11)
diff(a)
diff(a, lag =2)
getwd()
setwd("Repos/MA-climate/")
source("code/R/helper-functions.R")
library(ggplot2)
#together("results/CV-fused/noclust-large-fused-5k/")
path_to_model_folder <- "results/CV-fused/noclust-large-fused-5k/"
debug(together)
together(path_to_model_folder)
path_to_model_folder
path_to_model_folder
path_to_model_folder
model
h
drop_out
exists(paste(path_to_model_folder, "best_l_chose.rds"))
exists(paste(path_to_model_folder, "best_l_chosen.rds"))
exists(pasteo(path_to_model_folder, "best_l_chosen.rds"))
exists(paste0(path_to_model_folder, "best_l_chosen.rds"))
paste0(path_to_model_folder, "best_l_chosen.rds")
list.files(path_to_model_folder)
l <- list.files(path_to_model_folder)
"best_l_chosen" %in% l
"best_l_chosen.rds" %in% l
#together("results/CV-fused/noclust-large-fused-5k/")
path_to_model_folder <- "results/CV-fused/noclust-large-fused-5k/"
debug(together)
together(path_to_model_folder)
source("code/R/helper-functions.R")
#together("results/CV-fused/noclust-large-fused-5k/")
path_to_model_folder <- "results/CV-fused/noclust-large-fused-5k/"
debug(together)
together(path_to_model_folder)
rm(list=ls())
gc()
source("code/R/helper-functions.R")
#together("results/CV-fused/noclust-large-fused-5k/")
path_to_model_folder <- "results/CV-fused/noclust-large-fused-5k/"
debug(together)
source("code/R/helper-functions.R")
#together("results/CV-fused/noclust-large-fused-5k/")
path_to_model_folder <- "results/CV-fused/noclust-large-fused-5k/"
debug(together)
together(path_to_model_folder)
together(path_to_model_folder, drop_out=TRUE)
source("code/R/helper-functions.R")
together(path_to_model_folder, drop_out=TRUE)
#together("results/CV-fused/noclust-large-fused-5k/")
path_to_model_folder <- "results/CV-fused/noclust-large-fused-5k-gamma-01//"
together(path_to_model_folder, drop_out=FALSE)
together(path_to_model_folder, drop_out=TRUE)
source("code/R/helper-functions.R")
together(path_to_model_folder, drop_out=TRUE)
#together("results/CV-fused/noclust-large-fused-5k/")
path_to_model_folder <- "results/CV-fused/noclust-large-fused-5k//"
together(path_to_model_folder, drop_out=TRUE)
path_to_model_folder <- "../results/CV-fused/noclust-large-fused-5k/"
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-full.png"))
# coef_plot2 <- readRDS(paste0(path_to_model_folder,
#                      "coef-plots/coef-plot-drop-out-full.rds"))
#coef_plot <- coef_plot + theme(legend.position = "bottom", text = element_text(size = 8))
# coef_plot2$layers[[2]]$aes_params$size <- 0.75
# coef_plot_now2 <- coef_plot2
# coef_plot_now2 <- coef_plot_now2 + scale_colour_gradient2(name="Coefficients")
#ggsave(paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png"), plot = coef_plot_now2)
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png"))
# coef_plot2 <- readRDS(paste0(path_to_model_folder,
#                      "coef-plots/coef-plot-drop-out-full.rds"))
#coef_plot <- coef_plot + theme(legend.position = "bottom", text = element_text(size = 8))
# coef_plot2$layers[[2]]$aes_params$size <- 0.75
# coef_plot_now2 <- coef_plot2
# coef_plot_now2 <- coef_plot_now2 + scale_colour_gradient2(name="Coefficients")
#ggsave(paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png"), plot = coef_plot_now2)
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-dropout-full.png"))
?ggsave
#together("results/CV-fused/noclust-large-fused-5k/")
path_to_model_folder <- "results/CV-fused/noclust-large-fused-5k//"
together(path_to_model_folder, drop_out=TRUE)
source("code/R/helper-functions.R")
together(path_to_model_folder, drop_out=TRUE)
# coef_plot2 <- readRDS(paste0(path_to_model_folder,
#                      "coef-plots/coef-plot-drop-out-full.rds"))
#coef_plot <- coef_plot + theme(legend.position = "bottom", text = element_text(size = 8))
# coef_plot2$layers[[2]]$aes_params$size <- 0.75
# coef_plot_now2 <- coef_plot2
# coef_plot_now2 <- coef_plot_now2 + scale_colour_gradient2(name="Coefficients")
#ggsave(paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png"), plot = coef_plot_now2)
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-dropout-full.png"))
# coef_plot2 <- readRDS(paste0(path_to_model_folder,
#                      "coef-plots/coef-plot-drop-out-full.rds"))
#coef_plot <- coef_plot + theme(legend.position = "bottom", text = element_text(size = 8))
# coef_plot2$layers[[2]]$aes_params$size <- 0.75
# coef_plot_now2 <- coef_plot2
# coef_plot_now2 <- coef_plot_now2 + scale_colour_gradient2(name="Coefficients")
#ggsave(paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png"), plot = coef_plot_now2)
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png"))
# coef_plot2 <- readRDS(paste0(path_to_model_folder,
#                      "coef-plots/coef-plot-drop-out-full.rds"))
#coef_plot <- coef_plot + theme(legend.position = "bottom", text = element_text(size = 8))
# coef_plot2$layers[[2]]$aes_params$size <- 0.75
# coef_plot_now2 <- coef_plot2
# coef_plot_now2 <- coef_plot_now2 + scale_colour_gradient2(name="Coefficients")
#ggsave(paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png"), plot = coef_plot_now2)
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-dropout-full.png"))
path_to_model_folder
paste0(path_to_model_folder, "coef-plots/coef-plot-dropout-full.png")
# coef_plot2 <- readRDS(paste0(path_to_model_folder,
#                      "coef-plots/coef-plot-drop-out-full.rds"))
#coef_plot <- coef_plot + theme(legend.position = "bottom", text = element_text(size = 8))
# coef_plot2$layers[[2]]$aes_params$size <- 0.75
# coef_plot_now2 <- coef_plot2
# coef_plot_now2 <- coef_plot_now2 + scale_colour_gradient2(name="Coefficients")
#ggsave(paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png"), plot = coef_plot_now2)
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-dropout-full.png"))
path_to_model_folder <- "../results/CV-fused/noclust-large-fused-5k/"
# coef_plot2 <- readRDS(paste0(path_to_model_folder,
#                      "coef-plots/coef-plot-drop-out-full.rds"))
#coef_plot <- coef_plot + theme(legend.position = "bottom", text = element_text(size = 8))
# coef_plot2$layers[[2]]$aes_params$size <- 0.75
# coef_plot_now2 <- coef_plot2
# coef_plot_now2 <- coef_plot_now2 + scale_colour_gradient2(name="Coefficients")
#ggsave(paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png"), plot = coef_plot_now2)
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-dropout-full.png"))
#together("results/CV-fused/noclust-large-fused-5k/")
path_to_model_folder <- "results/CV-fused/noclust-large-fused-5k//"
# debug(together)
together(path_to_model_folder, drop_out=FALSE)
together(path_to_model_folder, drop_out=TRUE)
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-full.png"))
path_to_model_folder <- "../results/CV-fused/noclust-large-fused-5k/"
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-full.png"))
# coef_plot2 <- readRDS(paste0(path_to_model_folder,
#                      "coef-plots/coef-plot-drop-out-full.rds"))
#coef_plot <- coef_plot + theme(legend.position = "bottom", text = element_text(size = 8))
# coef_plot2$layers[[2]]$aes_params$size <- 0.75
# coef_plot_now2 <- coef_plot2
# coef_plot_now2 <- coef_plot_now2 + scale_colour_gradient2(name="Coefficients")
#ggsave(paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png"), plot = coef_plot_now2)
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-dropout-full.png"))
library(bookdown)
setwd("thesis/")
cl <- cluster(k)
library(igraph)
library(igraph)
k <- readRDS("../data/processed/graph_sst.rds")
cl <- cluster(k)
cl <- clusters(k)
plot(k, vertex.label = NA, vertex.size=0.00001,
edge.width= 0.0001,
vertex.color=cl$membership*10)
path_to_model_folder <- "../results/CV-fused/noclust-large-fused-5k/"
full_preds <- readRDS(paste0(path_to_model_folder, "/pred-plots/pred-plot-full.rds"))
mse_full <- get_mse_from_pred_plot(full_preds)
full_preds
mse_full
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-full.png"))
# coef_plot2 <- readRDS(paste0(path_to_model_folder,
#                      "coef-plots/coef-plot-drop-out-full.rds"))
#coef_plot <- coef_plot + theme(legend.position = "bottom", text = element_text(size = 8))
# coef_plot2$layers[[2]]$aes_params$size <- 0.75
# coef_plot_now2 <- coef_plot2
# coef_plot_now2 <- coef_plot_now2 + scale_colour_gradient2(name="Coefficients")
#ggsave(paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png"), plot = coef_plot_now2)
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png"))
paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png")
# coef_plot2 <- readRDS(paste0(path_to_model_folder,
#                      "coef-plots/coef-plot-drop-out-full.rds"))
#coef_plot <- coef_plot + theme(legend.position = "bottom", text = element_text(size = 8))
# coef_plot2$layers[[2]]$aes_params$size <- 0.75
# coef_plot_now2 <- coef_plot2
# coef_plot_now2 <- coef_plot_now2 + scale_colour_gradient2(name="Coefficients")
#ggsave(paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png"), plot = coef_plot_now2)
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png"))
#together("results/CV-fused/noclust-large-fused-5k/")
path_to_model_folder <- "results/CV-fused/large-fused-5k//"
# debug(together)
together(path_to_model_folder, drop_out=FALSE)
setwd("..")
# debug(together)
together(path_to_model_folder, drop_out=FALSE)
together(path_to_model_folder, drop_out=TRUE)
path_to_model_folder <- "../results/CV-fused/large-fused-5k/"
# h is here 5000
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-full.png"))
# coef_plot2 <- readRDS(paste0(path_to_model_folder,
#                      "coef-plots/coef-plot-drop-out-full.rds"))
#coef_plot <- coef_plot + theme(legend.position = "bottom", text = element_text(size = 8))
# coef_plot2$layers[[2]]$aes_params$size <- 0.75
# coef_plot_now2 <- coef_plot2
# coef_plot_now2 <- coef_plot_now2 + scale_colour_gradient2(name="Coefficients")
#ggsave(paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png"), plot = coef_plot_now2)
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png"))
source("code/R/helper-functions.R")
# coef_plot2 <- readRDS(paste0(path_to_model_folder,
#                      "coef-plots/coef-plot-drop-out-full.rds"))
#coef_plot <- coef_plot + theme(legend.position = "bottom", text = element_text(size = 8))
# coef_plot2$layers[[2]]$aes_params$size <- 0.75
# coef_plot_now2 <- coef_plot2
# coef_plot_now2 <- coef_plot_now2 + scale_colour_gradient2(name="Coefficients")
#ggsave(paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png"), plot = coef_plot_now2)
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plotdrop-out-full.png"))
# coef_plot2 <- readRDS(paste0(path_to_model_folder,
#                      "coef-plots/coef-plot-drop-out-full.rds"))
#coef_plot <- coef_plot + theme(legend.position = "bottom", text = element_text(size = 8))
# coef_plot2$layers[[2]]$aes_params$size <- 0.75
# coef_plot_now2 <- coef_plot2
# coef_plot_now2 <- coef_plot_now2 + scale_colour_gradient2(name="Coefficients")
#ggsave(paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png"), plot = coef_plot_now2)
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-dropout-full.png"))
#together("results/CV-fused/noclust-large-fused-5k/")
path_to_model_folder <- "results/CV-fused/noclust-large-fused-5k-gamma-01//"
# debug(together)
together(path_to_model_folder, drop_out=FALSE)
together(path_to_model_folder, drop_out=TRUE)
# coef_plot2 <- readRDS(paste0(path_to_model_folder,
#                      "coef-plots/coef-plot-drop-out-full.rds"))
#coef_plot <- coef_plot + theme(legend.position = "bottom", text = element_text(size = 8))
# coef_plot2$layers[[2]]$aes_params$size <- 0.75
# coef_plot_now2 <- coef_plot2
# coef_plot_now2 <- coef_plot_now2 + scale_colour_gradient2(name="Coefficients")
#ggsave(paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png"), plot = coef_plot_now2)
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-dropout-full.png"))
path_to_model_folder <- "../results/CV-fused/noclust-large-fused-5k-gamma-01/"
# h is here 5000
# coef_plot2 <- readRDS(paste0(path_to_model_folder,
#                      "coef-plots/coef-plot-drop-out-full.rds"))
#coef_plot <- coef_plot + theme(legend.position = "bottom", text = element_text(size = 8))
# coef_plot2$layers[[2]]$aes_params$size <- 0.75
# coef_plot_now2 <- coef_plot2
# coef_plot_now2 <- coef_plot_now2 + scale_colour_gradient2(name="Coefficients")
#ggsave(paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png"), plot = coef_plot_now2)
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-dropout-full.png"))
#together("results/CV-fused/noclust-large-fused-5k/")
path_to_model_folder <- "results/CV-fused/noclust-large-fused-5k-gamma-005//"
# debug(together)
together(path_to_model_folder, drop_out=FALSE)
path_to_model_folder <- "../results/CV-fused/noclust-large-fused-5k/"
full_preds <- readRDS(paste0(path_to_model_folder, "/pred-plots/pred-plot-full.rds"))
mse_full <- get_mse_from_pred_plot(full_preds)
full_preds
mse_full
path_to_model_folder <- "../results/CV-fused/large-fused-5k/"
# h is here 5000
full_preds <- readRDS(paste0(path_to_model_folder, "/pred-plots/pred-plot-full.rds"))
mse_full <- get_mse_from_pred_plot(full_preds)
full_preds
mse_full
path_to_model_folder <- "../results/CV-fused/large-fused-5k/"
# h is here 5000
full_preds <- readRDS(paste0(path_to_model_folder, "/pred-plots/pred-plot-full.rds"))
mse_full <- get_mse_from_pred_plot(full_preds)
full_preds
mse_full
knitr::opts_chunk$set(warning = FALSE, message = FALSE, echo = FALSE)
library(patchwork)
library(ggpubr)
library(raster)
library(glmnet)
library(Hmisc)
source("../code/R/helper-functions.R")
# coef_plot2 <- readRDS(paste0(path_to_model_folder,
#                      "coef-plots/coef-plot-drop-out-full.rds"))
#coef_plot <- coef_plot + theme(legend.position = "bottom", text = element_text(size = 8))
# coef_plot2$layers[[2]]$aes_params$size <- 0.75
# coef_plot_now2 <- coef_plot2
# coef_plot_now2 <- coef_plot_now2 + scale_colour_gradient2(name="Coefficients")
#ggsave(paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png"), plot = coef_plot_now2)
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-dropout-full.png"))
knitr::opts_chunk$set(warning = FALSE, message = FALSE, echo = FALSE)
library(patchwork)
library(ggpubr)
library(raster)
library(glmnet)
library(Hmisc)
source("../code/R/helper-functions.R")
path_to_model_folder <- "../results/CV-fused/noclust-large-fused-5k-gamma-01/"
# h is here 5000
# err_mat <- readRDS(paste0(path_to_model_folder, "/err-mat.rds"))
#min(apply(err_mat, 1, mean))
#lambdas <- readRDS(paste0(path_to_model_folder, "/lambda-vec.rds"))
# best_l_res <- readRDS(paste0(path_to_model_folder, "best-lambda-res.rds"))
# # log(best_l_res$lambda_min)
# # best_l_res$err_plot + ylim(c(0,50000)) + xlim(3,6)
# best_l_res$err_plot$labels$colour <- "Fold"
# p <- best_l_res$err_plot + geom_vline(xintercept=log(best_l_res$lambda_min),
#                         linetype="dashed",
#                 color = "red", size=0.5)
# p2 <- p + ylim(0,2000)
# ggsave(paste0(path_to_model_folder,"best-lambda-res.png"),
#        p2)
knitr::include_graphics(paste0(path_to_model_folder, "best-lambda-res.png"))
pred_plot_1 <- readRDS(paste0(path_to_model_folder, "/pred-plots/pred-plot-fold-1.rds"))
pred_plot_1 <- pred_plot_1 + ylab("Precipitation fold 1")
mse_1 <- get_mse_from_pred_plot(pred_plot_1)
pred_plot_2 <- readRDS(paste0(path_to_model_folder, "/pred-plots/pred-plot-fold-2.rds"))
pred_plot_2 <- pred_plot_2 + ylab("Precipitation fold 2")
mse_2 <- get_mse_from_pred_plot(pred_plot_2)
pred_plot_3 <- readRDS(paste0(path_to_model_folder, "/pred-plots/pred-plot-fold-3.rds"))
pred_plot_3 <- pred_plot_3 + ylab("Precipitation fold 3")
mse_3 <- get_mse_from_pred_plot(pred_plot_3)
pred_plot_4 <- readRDS(paste0(path_to_model_folder, "/pred-plots/pred-plot-fold-4.rds"))
pred_plot_4 <- pred_plot_4 + ylab("Precipitation fold 4")
mse_4 <- get_mse_from_pred_plot(pred_plot_4)
pred_plot_5 <- readRDS(paste0(path_to_model_folder, "/pred-plots/pred-plot-fold-5.rds"))
pred_plot_5 <- pred_plot_5 + ylab("Precipitation fold 5")
mse_5 <- get_mse_from_pred_plot(pred_plot_5)
#pred_plot_list <- list(pred_plot_1,pred_plot_2,pred_plot_3,pred_plot_4,pred_plot_5)
pred_plot_1 + pred_plot_2 + pred_plot_3 + pred_plot_4 +
pred_plot_5
full_preds <- readRDS(paste0(path_to_model_folder, "/pred-plots/pred-plot-full.rds"))
mse_full <- get_mse_from_pred_plot(full_preds)
full_preds
mse_full
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-full.png"))
# coef_plot2 <- readRDS(paste0(path_to_model_folder,
#                      "coef-plots/coef-plot-drop-out-full.rds"))
#coef_plot <- coef_plot + theme(legend.position = "bottom", text = element_text(size = 8))
# coef_plot2$layers[[2]]$aes_params$size <- 0.75
# coef_plot_now2 <- coef_plot2
# coef_plot_now2 <- coef_plot_now2 + scale_colour_gradient2(name="Coefficients")
#ggsave(paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png"), plot = coef_plot_now2)
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png"))
coef_plot <- readRDS(paste0(path_to_model_folder,
"coef-plots/coef-plot-full.rds"))
#coef_plot <- coef_plot + theme(legend.position = "bottom", text = element_text(size = 8))
coef_plot$layers[[2]]$aes_params$size <- 0.75
coef_plot_now <- coef_plot
coef_plot_now <- coef_plot_now + scale_colour_gradient2(name="Coefficients")
ggsave(paste0(path_to_model_folder, "coef-plots/coef-plot-full.png"), plot = coef_plot_now)
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-full.png"))
library(patchwork)
library(ggpubr)
library(raster)
library(glmnet)
library(Hmisc)
source("../code/R/helper-functions.R")
path_to_model_folder <- "../results/CV-fused/noclust-large-fused-5k-gamma-005/"
# h is here 5000
library(patchwork)
library(ggpubr)
library(raster)
library(glmnet)
library(Hmisc)
source("../code/R/helper-functions.R")
# err_mat <- readRDS(paste0(path_to_model_folder, "/err-mat.rds"))
#min(apply(err_mat, 1, mean))
#lambdas <- readRDS(paste0(path_to_model_folder, "/lambda-vec.rds"))
path_to_model_folder <- "../results/CV-fused/noclust-large-fused-5k-gamma-005/"
# h is here 5000
knitr::include_graphics(paste0(path_to_model_folder, "best-lambda-res.png"))
pred_plot_1 <- readRDS(paste0(path_to_model_folder, "/pred-plots/pred-plot-fold-1.rds"))
pred_plot_1 <- pred_plot_1 + ylab("Precipitation fold 1")
mse_1 <- get_mse_from_pred_plot(pred_plot_1)
pred_plot_2 <- readRDS(paste0(path_to_model_folder, "/pred-plots/pred-plot-fold-2.rds"))
pred_plot_2 <- pred_plot_2 + ylab("Precipitation fold 2")
mse_2 <- get_mse_from_pred_plot(pred_plot_2)
pred_plot_3 <- readRDS(paste0(path_to_model_folder, "/pred-plots/pred-plot-fold-3.rds"))
pred_plot_3 <- pred_plot_3 + ylab("Precipitation fold 3")
mse_3 <- get_mse_from_pred_plot(pred_plot_3)
pred_plot_4 <- readRDS(paste0(path_to_model_folder, "/pred-plots/pred-plot-fold-4.rds"))
pred_plot_4 <- pred_plot_4 + ylab("Precipitation fold 4")
mse_4 <- get_mse_from_pred_plot(pred_plot_4)
pred_plot_5 <- readRDS(paste0(path_to_model_folder, "/pred-plots/pred-plot-fold-5.rds"))
pred_plot_5 <- pred_plot_5 + ylab("Precipitation fold 5")
mse_5 <- get_mse_from_pred_plot(pred_plot_5)
#pred_plot_list <- list(pred_plot_1,pred_plot_2,pred_plot_3,pred_plot_4,pred_plot_5)
pred_plot_1 + pred_plot_2 + pred_plot_3 + pred_plot_4 +
pred_plot_5
full_preds <- readRDS(paste0(path_to_model_folder, "/pred-plots/pred-plot-full.rds"))
mse_full <- get_mse_from_pred_plot(full_preds)
full_preds
mse_full
coef_plot <- readRDS(paste0(path_to_model_folder,
"coef-plots/coef-plot-full.rds"))
coef_plot <- readRDS(paste0(path_to_model_folder,
"coef-plots/coef-plot-full.rds"))
#coef_plot <- coef_plot + theme(legend.position = "bottom", text = element_text(size = 8))
coef_plot$layers[[2]]$aes_params$size <- 0.75
coef_plot_now <- coef_plot
coef_plot_now <- coef_plot_now + scale_colour_gradient2(name="Coefficients")
ggsave(paste0(path_to_model_folder, "coef-plots/coef-plot-full.png"), plot = coef_plot_now)
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-full.png"))
path_to_model_folder <- "../results/CV-fused/noclust-large-fused-5k-gamma-005/"
# h is here 5000
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-full.png"))
#together("results/CV-fused/noclust-large-fused-5k/")
path_to_model_folder <- "results/CV-fused/noclust-large-fused-5k-gamma-005//"
# debug(together)
together(path_to_model_folder, drop_out=FALSE)
together(path_to_model_folder, drop_out=TRUE)
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-full.png"))
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-full.png"))
path_to_model_folder <- "../results/CV-fused/noclust-large-fused-5k-gamma-005/"
# h is here 5000
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-full.png"))
# coef_plot2 <- readRDS(paste0(path_to_model_folder,
#                      "coef-plots/coef-plot-drop-out-full.rds"))
#coef_plot <- coef_plot + theme(legend.position = "bottom", text = element_text(size = 8))
# coef_plot2$layers[[2]]$aes_params$size <- 0.75
# coef_plot_now2 <- coef_plot2
# coef_plot_now2 <- coef_plot_now2 + scale_colour_gradient2(name="Coefficients")
#ggsave(paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png"), plot = coef_plot_now2)
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png"))
#together("results/CV-fused/noclust-large-fused-5k/")
path_to_model_folder <- "results/CV-fused/noclust-large-fused-5k-gamma-01//"
# debug(together)
together(path_to_model_folder, drop_out=FALSE)
together(path_to_model_folder, drop_out=TRUE)
path_to_model_folder <- "../results/CV-fused/noclust-large-fused-5k-gamma-01/"
# h is here 5000
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-full.png"))
# coef_plot2 <- readRDS(paste0(path_to_model_folder,
#                      "coef-plots/coef-plot-drop-out-full.rds"))
#coef_plot <- coef_plot + theme(legend.position = "bottom", text = element_text(size = 8))
# coef_plot2$layers[[2]]$aes_params$size <- 0.75
# coef_plot_now2 <- coef_plot2
# coef_plot_now2 <- coef_plot_now2 + scale_colour_gradient2(name="Coefficients")
#ggsave(paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png"), plot = coef_plot_now2)
knitr::include_graphics(paste0(path_to_model_folder, "coef-plots/coef-plot-drop-out-full.png"))
render_book()
setwd()
getwd()
setwd("thesis")
render_book(output_format = "bookdown::pdf_book")
options(knitr.duplicate.labels = 'allow')
render_book(output_format = "bookdown::pdf_book")
library(knitr)
options(knitr.duplicate.labels = 'allow')
render_book(output_format = "bookdown::pdf_book")
options(knitr.duplicate.labels = "allow")
render_book(output_format = "bookdown::pdf_book")
render_book(output_format = "bookdown::pdf_book")
(sst_sd_arrange <- readRDS("../results/eda/sst_sd_arrange.rds"))
